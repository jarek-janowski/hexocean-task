(this["webpackJsonphexocean-zadanie"]=this["webpackJsonphexocean-zadanie"]||[]).push([[0],{192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){"use strict";n.r(t);var a,c=n(37),s=n.n(c),i=(n(85),n(6)),r=n(9),o=n(1),j=n(7),l=n(20),b=n(199),d=n(197),u=n(196),O=n(198),p=n(77),h=(n(89),n(79)),m=(n(90),n(0)),x=["errorMessage"],f=function(e){var t=e.errorMessage,n=Object(h.a)(e,x);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("input",Object(i.a)({},n)),Object(m.jsx)("span",{className:"error-message",children:t})]})},g=function(e){var t=e.input,n=e.meta;return Object(m.jsx)(f,Object(i.a)(Object(i.a)({},t),{},{maxlength:"28",placeholder:"ex. HexOcean pizza",type:"text",errorMessage:n.touched&&n.error}))},v=function(e){var t=e.input,n=e.meta;return console.log(n),Object(m.jsx)(f,Object(i.a)(Object(i.a)({},t),{},{style:{color:n.dirty?"black":"#777",letterSpacing:1},type:"tel",errorMessage:n.touched&&n.error}))},S=function(e){var t=e.input,n=e.meta;return Object(m.jsx)(f,Object(i.a)(Object(i.a)({},t),{},{placeholder:"ex. 4",type:"number",errorMessage:n.touched&&n.error}))},C=function(e){var t=e.input,n=e.meta;return Object(m.jsx)(f,Object(i.a)(Object(i.a)({},t),{},{placeholder:"ex. 33.4",type:"number",step:"any",maxlength:"5",errorMessage:n.touched&&n.error}))},_=function(e){var t=e.input,n=e.meta;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,Object(i.a)(Object(i.a)({},t),{},{type:"range",min:"1",max:"10",list:"tickmarks",errorMessage:n.touched&&n.error})),Object(m.jsxs)("datalist",{id:"tickmarks",children:[Object(m.jsx)("option",{value:"1"}),Object(m.jsx)("option",{value:"2"}),Object(m.jsx)("option",{value:"3"}),Object(m.jsx)("option",{value:"4"}),Object(m.jsx)("option",{value:"5"}),Object(m.jsx)("option",{value:"6"}),Object(m.jsx)("option",{value:"7"}),Object(m.jsx)("option",{value:"8"}),Object(m.jsx)("option",{value:"9"}),Object(m.jsx)("option",{value:"10"})]})]})},y=function(e){var t=e.input,n=e.meta;return Object(m.jsx)(f,Object(i.a)(Object(i.a)({},t),{},{placeholder:"ex. 3",type:"number",errorMessage:n.touched&&n.error}))},N=function(e){if(!e||""===e)return"This field is required"},I=(a=6,function(e){return e&&e.length<a?"Must be ".concat(a," characters"):void 0}),T=Object(u.a)({form:"add-dish-form"})((function(e){var t=e.onNameInputChange,n=e.onPrepTimeInputChange,a=e.onNoOfSlicesInputChange,c=e.onDiameterInputChange,s=e.onSpicinessScaleInputChange,j=e.onSlicesOfBreadInputChange,l=e.onTypeSelectChange,b=e.name,u=e.prepTime,h=e.noOfSlices,x=e.diameter,f=e.spicinessScale,T=e.slicesOfBread,z=e.type,F=e.handleSubmit,M=e.valid,D=e.reset,w=Object(o.useState)(""),k=Object(r.a)(w,2),B=k[0],P=k[1],J=Object(p.createTextMask)({pattern:"99:99:99",onChange:function(e){var t;n(null===(t=e.match(/.{1,2}/g))||void 0===t?void 0:t.join(":"))}}),A=d.a;return Object(m.jsxs)("form",{className:"add-dish-form",onSubmit:function(e){e.preventDefault(),F(),P(Object(O.a)()),D()},children:[Object(m.jsxs)("label",{children:["Dish Name",Object(m.jsx)(d.a,{name:"name",value:b,onChange:t,component:g,validate:N})]}),Object(m.jsxs)("label",{children:["Preparation Time",Object(m.jsx)(A,Object(i.a)({name:"prepTime",value:u,component:v,validate:[N,I]},J))]}),Object(m.jsxs)("select",{onChange:l,children:[Object(m.jsx)("option",{value:"",children:"--Select dish type--"}),Object(m.jsx)("option",{value:"pizza",children:"pizza"}),Object(m.jsx)("option",{value:"soup",children:"soup"}),Object(m.jsx)("option",{value:"sandwich",children:"sandwich"})]}),"pizza"===z&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("label",{children:["Number Of Slices",Object(m.jsx)(d.a,{name:"no of slices",value:h,onChange:a,component:S,validate:N})]}),Object(m.jsxs)("label",{children:["Diameter",Object(m.jsx)(d.a,{name:"diameter",value:x,onChange:c,component:C,validate:N})]})]}),"soup"===z&&Object(m.jsxs)("label",{children:["Spiciness Scale (1-10)",Object(m.jsx)(d.a,{name:"spiciness scale",value:f,onChange:s,component:_,validate:N})]}),"sandwich"===z&&Object(m.jsxs)("label",{children:["Slices of Bread",Object(m.jsx)(d.a,{name:"slices of bread",value:T,onChange:j,component:y,validate:N})]}),z&&Object(m.jsx)("button",{disabled:!M,children:"Submit"})]},B)})),z=(n(192),n.p+"static/media/spinner.3f640995.svg"),F=function(e){var t=e.responseData,n=e.closeModal,a=e.responseStatus,c=t||{},s=c.name,i=c.preparation_time,r=c.type,o=c.no_of_slices,j=c.diameter,l=c.spiciness_scale,b=c.slices_of_bread,d=Object(m.jsxs)("div",{children:[Object(m.jsxs)("h4",{children:["Error nr ",Object(m.jsxs)("span",{children:["--",a,"--"]})]}),Object(m.jsx)("p",{children:"Try Again"})]}),u=Object(m.jsxs)("div",{children:[Object(m.jsxs)("h4",{children:["Dish name: ",Object(m.jsx)("span",{children:s})]}),Object(m.jsxs)("p",{children:["Preparation Time: ",Object(m.jsx)("span",{children:i})]}),Object(m.jsxs)("p",{children:["Type: ",Object(m.jsx)("span",{children:r})]}),"pizza"===r&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("p",{children:["Number of Slices: ",Object(m.jsx)("span",{children:o})]}),Object(m.jsxs)("p",{children:["Diameter: ",Object(m.jsx)("span",{children:j})]})]}),"soup"===r&&Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("p",{children:["Spiciness scale (1-10): ",Object(m.jsx)("span",{children:l})]})}),"sandwich"===r&&Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("p",{children:["Slices of Bread: ",Object(m.jsx)("span",{children:b})]})})]});return Object(m.jsx)("div",{className:"modal",children:Object(m.jsxs)("div",{className:"modal__content",children:[!a&&Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"Waiting for response from server.."}),Object(m.jsx)("img",{className:"modal__loading",src:z,alt:"loading animation"})]}),a?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"modal__header",children:Object(m.jsx)("h3",{className:"modal__title",children:200===a?"Dish successfully added":"Something went wrong"})}),Object(m.jsx)("section",{className:"modal__body",children:Object(m.jsx)("div",{children:200!==a?d:u})}),Object(m.jsx)("div",{className:"modal__footer",children:Object(m.jsx)("button",{onClick:function(){return n()},className:"modal__button",children:"OK"})})]}):null]})})},M=(n(193),Object(j.b)({form:b.a})),D=Object(j.c)(M);var w=function(){var e=Object(o.useState)({}),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(o.useState)(!1),s=Object(r.a)(c,2),j=s[0],b=s[1],d=Object(o.useState)(NaN),u=Object(r.a)(d,2),O=u[0],p=u[1],h=Object(o.useState)(""),x=Object(r.a)(h,2),f=x[0],g=x[1],v=Object(o.useState)(""),S=Object(r.a)(v,2),C=S[0],_=S[1],y=Object(o.useState)(""),N=Object(r.a)(y,2),I=N[0],z=N[1],M=Object(o.useState)(""),w=Object(r.a)(M,2),k=w[0],B=w[1],P=Object(o.useState)(""),J=Object(r.a)(P,2),A=J[0],E=J[1],L=Object(o.useState)(""),q=Object(r.a)(L,2),H=q[0],K=q[1],W=Object(o.useState)(""),G=Object(r.a)(W,2),Q=G[0],R=G[1],U=[{no_of_slices:parseInt(I),diameter:parseFloat(k)},{spiciness_scale:parseInt(A)},{slices_of_bread:parseInt(H)}];return Object(m.jsx)(l.a,{store:D,children:Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)("h1",{children:"Add new dish"}),Object(m.jsx)(T,{onNameInputChange:function(e){g(e.target.value)},onPrepTimeInputChange:function(e){_(e)},onNoOfSlicesInputChange:function(e){z(e.target.value)},onDiameterInputChange:function(e){B(e.target.value)},onSpicinessScaleInputChange:function(e){E(e.target.value)},onSlicesOfBreadInputChange:function(e){K(e.target.value)},onTypeSelectChange:function(e){R(e.target.value)},name:f,prepTime:C,noOfSlices:I,diameter:k,spicinessScale:A,slicesOfBread:H,type:Q,onSubmit:function(){b(!0),fetch("https://frosty-wood-6558.getsandbox.com:443/dishes",{method:"POST",body:JSON.stringify(Object(i.a)({name:f,preparation_time:C,type:Q},U["pizza"===Q?0:"soup"===Q?1:2])),headers:{"Content-type":"application/json"}}).then((function(e){if(p(e.status),200===e.status)return e.json()})).then((function(e){a(e),R("")})).catch((function(e){console.log(e)}))}}),j&&Object(m.jsx)(F,{responseData:n,closeModal:function(){b(!1),p(NaN)},responseStatus:O})]})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,200)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};s.a.render(Object(m.jsx)(w,{}),document.getElementById("root")),k()},85:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){}},[[194,1,2]]]);
//# sourceMappingURL=main.7e49133f.chunk.js.map